!function(){window.App=Ember.Application.create()}(),function(){App.IndexController=Ember.Controller.extend({latitude:null,longitude:null,init:function(){this._super(),amplify.request.define("foursquare","ajax",{url:"http://api.edinerguide.de/foursquare",dataType:"json",type:"GET"})},needs:["restaurant"],actions:{submitLocation:function(a){this.setRestaurant(a)},detectPosition:function(){this.setPosition()}},setRestaurant:function(a,b){var c=this.get("controllers.restaurant"),d=null;d=!0===b?{ll:a,query:"restaurant",radius:500,explore:1}:{near:a,query:"restaurant",radius:500,explore:1},amplify.request("foursquare",d,function(a){var b=a.response.groups[0].items,d=b[Math.floor(Math.random()*b.length)].venue;amplify.request("foursquare",{id:d.id},function(a){venue=a.response.venue,c.set("restaurant",a.response.venue)})})},setPosition:function(){var a=this;navigator.geolocation.getCurrentPosition(function(b){a.set("latitude",b.coords.latitude),a.set("longitude",b.coords.longitude),a.setRestaurant(b.coords.latitude+","+b.coords.longitude,!0)},function(){})}})}(),function(){App.RestaurantController=Ember.Controller.extend({restaurant:null})}(),function(){App.Store=DS.Store.extend(),App.ApplicationAdapter=DS.FixtureAdapter}(),function(){App.ApplicationRoute=Ember.Route.extend({})}(),function(){App.Router.map(function(){})}();